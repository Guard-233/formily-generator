{"version":3,"sources":["components/core/baseComponent/builtInComponent/schema.ts","utils/index.ts","utils/transform.ts","components/core/context/index.ts","components/draggable/nested.tsx","components/draggable/index.tsx","components/core/baseComponent/builtInComponent/index.tsx","components/core/baseComponent/arrayComponent/schema.ts","components/core/baseComponent/arrayComponent/index.tsx","components/core/baseComponent/layoutComponent/schema.ts","components/core/baseComponent/layoutComponent/index.tsx","components/core/baseComponent/index.tsx","components/core/container/preview/index.tsx","components/core/container/editSchema/index.tsx","components/core/container/ashcan/index.tsx","components/core/container/index.tsx","components/core/propertiesEdit/schema/index.ts","components/customComponent/custom-monaco-editor.tsx","components/core/propertiesEdit/index.tsx","components/core/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["schema","type","properties","string","title","placeholder","select","enum","label","value","textarea","Password","NumberPicker","Switch","DatePicker","format","WeekPicker","MonthPicker","YearPicker","TimePicker","Range","min","max","marks","upload","listType","checkbox","radio","rating","allowHalf","transfer","key","showSearch","render","record","GenNonDuplicateID","randomLength","Number","Math","random","toString","substr","Date","now","DraggableToFormily","list","arrayToObject","reduce","propertiesPre","PropertiesNow","id","pre","DeepPropertise","Object","create","assign","patternProperties","items","Array","isArray","map","item","FormilyToDraggable","vSchema","cloneDeep","keys","ObjectToArray","propertiesKey","nowKey","ActiveItem","createContext","active","setList","IDraggableList","changeActive","TabPane","Tabs","BuiltInComponents","Input","Select","TextArea","RangePicker","Upload","Checkbox","CheckboxGroup","Group","Radio","RadioGroup","Rating","Transfer","LayoutComponents","FormCard","FormBlock","FormMegaLayout","FormTab","ArrayComponent","ArrayCards","ArrayTable","margeComponents","NestedObject","props","group","name","put","allowActive","Nested","args","nestedSetList","newState","t","dragging","useContext","ObjOnclick","event","stopPropagation","card","merge","style","minHeight","index","ObjRenderCom","toLocaleLowerCase","Fragment","components","component","onClick","x-component","border","console","log","activeObj","add","activeKey","i","tab","remove","filter","j","onChange","onEdit","targetKey","action","tabp","ObjectRender","ArrayRender","formComponent","test","JSON","stringify","DefaultRender","ReactDraggable","BuiltInComponent","useState","pull","sort","clone","arrayTable","maxItems","arrayCards","formCards","formblock","tabs","defaultActiveKey","labelCol","pureObject","LayoutComponent","BaseComponent","width","height","overflow","className","backIcon","ArrayComponents","Preview","visible","state","setState","onOk","e","onCancel","destroyOnClose","centered","bodyStyle","maxHeight","onSubmit","EditSchema","setSchema","undefined","code","setCode","useEffect","parse","language","theme","Ashcan","ghostClass","content","size","backgroundColor","position","bottom","right","icon","DeleteOutlined","Content","Layout","Header","ErrorBoundary","hasError","error","info","this","children","React","Component","Container","display","justifyContent","wrapperCol","full","labelAlign","description","default","DEFAULT_NO_NAME","READONLY_NO_NAME","readOnly","editable","ENUM_NO_NAME","minItems","maxProperties","minProperties","CONST_NO_NAME","const","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","uniqueItems","required","mode","triggerType","X_COMPONENT_PROPS_NO_NAME","X_PROPS_NO_NAME","X_RULES_NO_NAME","X_LINKAGES_NO_NAME","X_MEGA_PROPS_NO_NAME","CustomMonacoEditor","onValueChange","firstStr","result","slice","syncFlag","setSyncFlag","ReSetCode","newValue","color","visibility","CostomMonacoEditor","PropertiesEdit","setId","padding","selector","LifeCycleTypes","ON_FORM_VALUES_CHANGE","reducer","form","payload","values","Core","setActive","Provider","App","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.dfe5b801.chunk.js","sourcesContent":["import { ISchema } from \"@formily/antd\";\r\n\r\nexport const schema: ISchema = {\r\n\ttype: \"object\",\r\n\tproperties: {\r\n\t\t// import { Input } from '@formily/antd-components'\r\n\t\tstring: {\r\n\t\t\ttitle: \"String\",\r\n\t\t\t\"x-component\": \"Input\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tplaceholder: \"input\",\r\n\t\t\t},\r\n\t\t\ttype: \"string\",\r\n\t\t},\r\n\t\t// import { Select } from '@formily/antd-components'\r\n\t\tselect: {\r\n\t\t\ttitle: \"Object Select\",\r\n\t\t\t\"x-component\": \"Select\",\r\n\t\t\tenum: [\r\n\t\t\t\t{ label: \"One\", value: \"1\" },\r\n\t\t\t\t{ label: \"Two\", value: \"2\" },\r\n\t\t\t\t{ label: \"Three\", value: \"3\" },\r\n\t\t\t\t{ label: \"Four\", value: \"4\" },\r\n\t\t\t],\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tplaceholder: \"select\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t//  components={{\r\n\t\t//   TextArea: Input.TextArea\r\n\t\t// }}\r\n\t\ttextarea: {\r\n\t\t\ttitle: \"String\",\r\n\t\t\t\"x-component\": \"TextArea\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tplaceholder: \"textarea\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t// import { Password } from '@formily/antd-components'\r\n\t\tPassword: {\r\n\t\t\ttitle: \"Password\",\r\n\t\t\t\"x-component\": \"Password\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tplaceholder: \"Password\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t// import { NumberPicker } from '@formily/antd-components'\r\n\t\tNumberPicker: {\r\n\t\t\ttitle: \"NumberPicker\",\r\n\t\t\t\"x-component\": \"NumberPicker\",\r\n\t\t},\r\n\t\t// import { Switch } from '@formily/antd-components'\r\n\t\tSwitch: {\r\n\t\t\ttitle: \"Switch\",\r\n\t\t\t\"x-component\": \"Switch\",\r\n\t\t},\r\n\t\t// import { DatePicker } from '@formily/antd-components'\r\n\t\tDatePicker: {\r\n\t\t\ttitle: \"DatePicker\",\r\n\t\t\t\"x-component\": \"DatePicker\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tformat: \"YYYY-MM-DD HH:mm:ss\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t// RangePicker: DatePicker.RangePicker\r\n\t\t\"[start,end]\": {\r\n\t\t\ttitle: \"RangePicker\",\r\n\t\t\t\"x-component\": \"RangePicker\",\r\n\t\t},\r\n\t\t// WeekPicker: DatePicker.WeekPicker\r\n\t\tWeekPicker: {\r\n\t\t\ttitle: \"WeekPicker\",\r\n\t\t\t\"x-component\": \"WeekPicker\",\r\n\t\t},\r\n\t\t// MonthPicker: DatePicker.MonthPicker\r\n\t\tMonthPicker: {\r\n\t\t\ttitle: \"MonthPicker\",\r\n\t\t\t\"x-component\": \"MonthPicker\",\r\n\t\t},\r\n\t\t// YearPicker: DatePicker.YearPicker\r\n\t\tYearPicker: {\r\n\t\t\ttitle: \"YearPicker\",\r\n\t\t\t\"x-component\": \"YearPicker\",\r\n\t\t},\r\n\t\t// import { TimePicker } from '@formily/antd-components'\r\n\t\tTimePicker: {\r\n\t\t\ttitle: \"TimePicker\",\r\n\t\t\t\"x-component\": \"TimePicker\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tformat: \"YYYY-MM-DD HH:mm:ss\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t// import { Range } from '@formily/antd-components'\r\n\t\tRange: {\r\n\t\t\ttitle: \"Range\",\r\n\t\t\t\"x-component\": \"Range\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tmin: 0,\r\n\t\t\t\tmax: 1024,\r\n\t\t\t\tmarks: [0, 1024],\r\n\t\t\t},\r\n\t\t},\r\n\t\t// import { Upload } from '@formily/antd-components'\r\n\t\tupload: {\r\n\t\t\ttitle: \"Card Upload\",\r\n\t\t\t\"x-component\": \"Upload\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tlistType: \"card\",\r\n\t\t\t},\r\n\t\t},\r\n\t\t// import { Checkbox } from '@formily/antd-components'\r\n\t\tcheckbox: {\r\n\t\t\ttitle: \"Object Checkbox\",\r\n\t\t\t\"x-component\": \"CheckboxGroup\",\r\n\t\t\tenum: [\r\n\t\t\t\t{ label: \"One\", value: \"1\" },\r\n\t\t\t\t{ label: \"Two\", value: \"2\" },\r\n\t\t\t\t{ label: \"Three\", value: \"3\" },\r\n\t\t\t\t{ label: \"Four\", value: \"4\" },\r\n\t\t\t],\r\n\t\t},\r\n\t\t// import { Radio } from '@formily/antd-components'\r\n\t\tradio: {\r\n\t\t\ttitle: \"Object Radio\",\r\n\t\t\t\"x-component\": \"RadioGroup\",\r\n\t\t\tenum: [\r\n\t\t\t\t{ label: \"One\", value: \"1\" },\r\n\t\t\t\t{ label: \"Two\", value: \"2\" },\r\n\t\t\t\t{ label: \"Three\", value: \"3\" },\r\n\t\t\t\t{ label: \"Four\", value: \"4\" },\r\n\t\t\t],\r\n\t\t},\r\n\t\t// import { Rating } from '@formily/antd-components'\r\n\t\trating: {\r\n\t\t\ttitle: \"Rating\",\r\n\t\t\t\"x-component\": \"Rating\",\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tallowHalf: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// import { Transfer } from '@formily/antd-components'\r\n\t\ttransfer: {\r\n\t\t\ttitle: \"Transfer\",\r\n\t\t\t\"x-component\": \"Transfer\",\r\n\t\t\tenum: [\r\n\t\t\t\t{ label: \"One\", value: \"1\", key: \"1\" },\r\n\t\t\t\t{ label: \"Two\", value: \"2\", key: \"2\" },\r\n\t\t\t\t{ label: \"Three\", value: \"3\", key: \"3\" },\r\n\t\t\t\t{ label: \"Four\", value: \"4\", key: \"4\" },\r\n\t\t\t],\r\n\t\t\t\"x-component-props\": {\r\n\t\t\t\tshowSearch: true,\r\n\t\t\t\trender: (record: { label: any }) => record.label,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n};\r\n","/**\r\n * 用于创建随机id\r\n *\r\n * @format\r\n * @param randomLength 随机数长度控制\r\n */\r\n\r\nexport const GenNonDuplicateID = (randomLength: number = 16) => {\r\n\treturn Number(Math.random().toString().substr(3, randomLength) + Date.now()).toString(36)\r\n}\r\n","/** @format */\r\n\r\nimport { cloneDeep } from 'lodash'\r\nimport { IDraggableList } from '../components/draggable/draggable'\r\nimport { ISchema } from '@formily/antd'\r\nimport { GenNonDuplicateID } from '../utils'\r\n\r\n/**\r\n * 将 Draggable(ReactSortable) 的数据格式转换为 formily 所需的数据格式\r\n * @param list 传入 IDrIDraggableList[] 格式的数据\r\n */\r\nexport const DraggableToFormily = (list: IDraggableList[]): ISchema => {\r\n\tconst arrayToObject = (\r\n\t\tproperties: IDraggableList[]\r\n\t): {\r\n\t\t[key: string]: ISchema\r\n\t} => {\r\n\t\treturn properties.reduce((propertiesPre, PropertiesNow) => {\r\n\t\t\treturn {\r\n\t\t\t\t...propertiesPre,\r\n\t\t\t\t[PropertiesNow.id]: DraggableToFormily([PropertiesNow])\r\n\t\t\t}\r\n\t\t}, {})\r\n\t}\r\n\r\n\tconst Schema = list.reduce((pre, now) => {\r\n\t\tconst DeepPropertise: ISchema = Object.create(null)\r\n\r\n\t\tObject.assign(DeepPropertise, now)\r\n\r\n\t\tif (now.properties) {\r\n\t\t\tDeepPropertise.properties = arrayToObject(now.properties)\r\n\t\t}\r\n\r\n\t\tif (now.patternProperties) {\r\n\t\t\tDeepPropertise.patternProperties = arrayToObject(now.patternProperties)\r\n\t\t}\r\n\r\n\t\tif (now.items) {\r\n\t\t\tif (!Array.isArray(now.items)) {\r\n\t\t\t\tnow.items = [now.items]\r\n\t\t\t}\r\n\t\t\tDeepPropertise.items = now.items.map((item) => DraggableToFormily([item]))\r\n\t\t}\r\n\r\n\t\tdelete (DeepPropertise as { id: string }).id\r\n\r\n\t\treturn {\r\n\t\t\t...pre,\r\n\t\t\t...DeepPropertise\r\n\t\t}\r\n\t}, {})\r\n\r\n\treturn Schema\r\n}\r\n\r\n/**\r\n * 将 formily 的数据格式转换为 Draggable(ReactSortable) 所需的数据格式\r\n * @param vSchema 传入 ISchema 格式的数据\r\n * @param key 可控制ISchema数据格式的第一个对象转换为 Draggable(ReactSortable) 格式时的id名\r\n */\r\nexport const FormilyToDraggable = (vSchema: ISchema, key?: string): IDraggableList[] => {\r\n\tconst schema = {\r\n\t\t[key || 'schema' + GenNonDuplicateID()]: cloneDeep(vSchema)\r\n\t}\r\n\tconst keys = Object.keys(schema)\r\n\r\n\tconst ObjectToArray = (properties: { [key: string]: ISchema }) => {\r\n\t\treturn Object.keys(properties).map((propertiesKey) => {\r\n\t\t\treturn FormilyToDraggable(properties[propertiesKey], propertiesKey)[0]\r\n\t\t})\r\n\t}\r\n\r\n\tconst result = keys.reduce((pre: Array<IDraggableList>, nowKey: string) => {\r\n\t\tconst value: any = schema[nowKey]\r\n\r\n\t\tif (value.properties) {\r\n\t\t\tvalue.properties = ObjectToArray(value.properties)\r\n\t\t}\r\n\r\n\t\tif (value.patternProperties) {\r\n\t\t\tvalue.patternProperties = ObjectToArray(value.patternProperties)\r\n\t\t}\r\n\r\n\t\tif (value.items) {\r\n\t\t\tif (typeof value.items === 'object' && !Array.isArray(value.items)) {\r\n\t\t\t\tvalue.items = [value.items]\r\n\t\t\t}\r\n\t\t\tvalue.items = value.items.map(\r\n\t\t\t\t(item: ISchema | { [key: string]: ISchema }) => FormilyToDraggable(item)[0]\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t...pre,\r\n\t\t\t{\r\n\t\t\t\tid: nowKey,\r\n\t\t\t\t...value\r\n\t\t\t}\r\n\t\t]\r\n\t}, [])\r\n\r\n\treturn result\r\n}\r\n","/** @format */\r\n\r\nimport { createContext } from 'react'\r\nimport { IDraggableList } from '../../draggable/draggable.d'\r\n\r\nconst active = {\r\n\tlist: {\r\n\t\tid: 'schema'\r\n\t},\r\n\tsetList: (IDraggableList: IDraggableList) => {}\r\n}\r\n\r\nconst changeActive: any = () => {\r\n\treturn {}\r\n}\r\n\r\nexport const ActiveItem = createContext<{\r\n\tactive: {\r\n\t\tlist: IDraggableList\r\n\t\tsetList(IDraggableList: IDraggableList): void\r\n\t}\r\n\tchangeActive: React.Dispatch<\r\n\t\tReact.SetStateAction<{\r\n\t\t\tlist: IDraggableList\r\n\t\t\tsetList(IDraggableList: IDraggableList): void\r\n\t\t}>\r\n\t>\r\n}>({\r\n\tactive,\r\n\tchangeActive\r\n})\r\n","/** @format */\r\n\r\nimport React, { useContext } from 'react'\r\nimport { ReactSortable } from 'react-sortablejs'\r\nimport { INestedProps, IDraggableList } from './draggable'\r\nimport {\r\n\tSchemaForm,\r\n\tSchemaMarkupField as Field,\r\n\tISchemaFieldComponentProps\r\n} from '@formily/antd'\r\nimport { DraggableToFormily } from '../../utils/transform'\r\nimport { merge } from 'lodash'\r\nimport {\r\n\tInput,\r\n\tSelect,\r\n\tPassword,\r\n\tNumberPicker,\r\n\tSwitch,\r\n\tDatePicker,\r\n\tTimePicker,\r\n\tRange,\r\n\tUpload,\r\n\tCheckbox,\r\n\tRadio,\r\n\tRating,\r\n\tTransfer,\r\n\tFormCard,\r\n\tFormBlock,\r\n\tFormMegaLayout,\r\n\tFormTab,\r\n\tArrayCards,\r\n\tArrayTable\r\n} from '@formily/antd-components'\r\nimport { Card, Form, Tabs } from 'antd'\r\nimport { cloneDeep } from 'lodash'\r\nimport { ActiveItem } from '../core/context'\r\nimport 'antd/dist/antd.css'\r\nimport './nested.scss'\r\nimport { GenNonDuplicateID } from '../../utils'\r\n\r\nconst { TabPane } = Tabs\r\n\r\n// 内置的非布局组件\r\nconst BuiltInComponents = {\r\n\tInput,\r\n\tSelect,\r\n\tTextArea: Input.TextArea,\r\n\tPassword,\r\n\tNumberPicker,\r\n\tSwitch,\r\n\tDatePicker,\r\n\tRangePicker: DatePicker.RangePicker,\r\n\tWeekPicker: DatePicker.WeekPicker,\r\n\tMonthPicker: DatePicker.MonthPicker,\r\n\tYearPicker: DatePicker.YearPicker,\r\n\tTimePicker,\r\n\tRange,\r\n\tUpload,\r\n\tCheckbox,\r\n\tCheckboxGroup: Checkbox.Group,\r\n\tRadio,\r\n\tRadioGroup: Radio.Group,\r\n\tRating,\r\n\tTransfer\r\n}\r\n\r\n// 布局组件\r\nconst LayoutComponents = {\r\n\tFormCard,\r\n\tFormBlock,\r\n\tFormMegaLayout,\r\n\tFormTab\r\n}\r\n\r\nconst ArrayComponent = {\r\n\tArrayCards,\r\n\tArrayTable\r\n}\r\n\r\n/**\r\n * 合并后的组件\r\n * @todo 是否可以考虑进行动态引入\r\n */\r\nconst margeComponents = {\r\n\t...BuiltInComponents,\r\n\t...LayoutComponents,\r\n\t...ArrayComponent\r\n}\r\n\r\ninterface INested {\r\n\t(props: INestedProps): JSX.Element\r\n\t(props: { value: INestedProps }): JSX.Element\r\n}\r\n\r\nexport const isInestedProps = (value: any): value is INestedProps => {\r\n\treturn !value.value\r\n}\r\n\r\nconst NestedObject = (props: ISchemaFieldComponentProps) => {\r\n\tconst { list, setList } = props.value\r\n\r\n\treturn (\r\n\t\t<Nested\r\n\t\t\t{...({} as any)}\r\n\t\t\tgroup={{\r\n\t\t\t\tname: 'g1',\r\n\t\t\t\tput: true\r\n\t\t\t}}\r\n\t\t\tlist={list}\r\n\t\t\tsetList={setList}\r\n\t\t\tallowActive={true}\r\n\t\t></Nested>\r\n\t)\r\n}\r\n\r\n/**\r\n * 项目核心函数式组件，用于递归渲染\r\n * @param props\r\n */\r\nexport const Nested: INested = (args: any) => {\r\n\tlet props: INestedProps = args\r\n\r\n\tif (!isInestedProps(args)) {\r\n\t\tprops = args.value\r\n\t}\r\n\r\n\tconst { list, setList } = props\r\n\r\n\t/**\r\n\t * 重写setList,使其对于递归组件也有效果\r\n\t * @param item\r\n\t */\r\n\tconst nestedSetList = (item: IDraggableList) => {\r\n\t\treturn (newState: IDraggableList | IDraggableList[]) => {\r\n\t\t\tsetList(\r\n\t\t\t\tlist.map((t) => {\r\n\t\t\t\t\tif (t.id === item.id) {\r\n\t\t\t\t\t\tif (t.type === 'object') {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\tproperties: cloneDeep(newState) as IDraggableList[]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (item.type === 'array') {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\titems: cloneDeep(newState) as IDraggableList[]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn newState as IDraggableList\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn t\r\n\t\t\t\t}),\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\tdragging: null\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst { changeActive } = useContext(ActiveItem)\r\n\r\n\tconst ObjOnclick = (item: IDraggableList, list: IDraggableList[]) => {\r\n\t\treturn (event: React.MouseEvent) => {\r\n\t\t\tevent.stopPropagation()\r\n\r\n\t\t\tif (props.allowActive) {\r\n\t\t\t\tchangeActive({\r\n\t\t\t\t\tlist: item,\r\n\t\t\t\t\tsetList: (newState) => {\r\n\t\t\t\t\t\tsetList(\r\n\t\t\t\t\t\t\tlist.map((card) => {\r\n\t\t\t\t\t\t\t\tif (card.id === newState.id) {\r\n\t\t\t\t\t\t\t\t\treturn newState\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn card\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdragging: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 目前的默认渲染机制\r\n\t * @param item\r\n\t */\r\n\tconst DefaultRender = (item: IDraggableList) => {\r\n\t\tif (item.id === 'formCards' || item.id === 'schema') {\r\n\t\t\tdebugger\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment key={item.id}>\r\n\t\t\t\t<SchemaForm\r\n\t\t\t\t\tcomponents={margeComponents}\r\n\t\t\t\t\tformComponent={'div'}\r\n\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\tevent.stopPropagation()\r\n\r\n\t\t\t\t\t\tif (props.allowActive) {\r\n\t\t\t\t\t\t\tchangeActive({\r\n\t\t\t\t\t\t\t\tlist: item,\r\n\t\t\t\t\t\t\t\tsetList: (newState) => {\r\n\t\t\t\t\t\t\t\t\tif (!/\\{\\{ *\\}\\}/.test(JSON.stringify(newState))) {\r\n\t\t\t\t\t\t\t\t\t\tnestedSetList(item)(newState)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tschema={{\r\n\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\tproperties: { [item.id]: DraggableToFormily([item]) }\r\n\t\t\t\t\t}}\r\n\t\t\t\t></SchemaForm>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\t/**\r\n\t * 对于对象的渲染机制\r\n\t * @param item\r\n\t * @todo 目前样式上之对于Cards有效\r\n\t */\r\n\tconst ObjectRender = (item: IDraggableList) => {\r\n\t\tlet ObjRenderCom: any = FormCard\r\n\r\n\t\tswitch (item['x-component']?.toLocaleLowerCase()) {\r\n\t\t\tcase 'block':\r\n\t\t\t\tObjRenderCom = FormBlock\r\n\t\t\t\tbreak\r\n\t\t\tcase 'tab':\r\n\t\t\t\tObjRenderCom = Tabs\r\n\t\t\t\tbreak\r\n\t\t\tcase 'tabpane':\r\n\t\t\t\tObjRenderCom = TabPane\r\n\t\t\t\tbreak\r\n\t\t\tcase 'mega-layout':\r\n\t\t\t\tObjRenderCom = FormMegaLayout\r\n\t\t}\r\n\r\n\t\tswitch (item['x-component']?.toLocaleLowerCase()) {\r\n\t\t\tcase 'block':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment key={item.id}>\r\n\t\t\t\t\t\t<SchemaForm\r\n\t\t\t\t\t\t\tcomponents={{ ...margeComponents, NestedObject }}\r\n\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t[item.id]: {\r\n\t\t\t\t\t\t\t\t\tlist: item.properties,\r\n\t\t\t\t\t\t\t\t\tsetList: nestedSetList(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\tonClick={ObjOnclick(item, list)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ObjRenderCom {...item['x-component-props']}>\r\n\t\t\t\t\t\t\t\t<Field x-component={'NestedObject'} name={item.id as string} />\r\n\t\t\t\t\t\t\t</ObjRenderCom>\r\n\t\t\t\t\t\t</SchemaForm>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)\r\n\t\t\tcase 'mega-layout':\r\n\t\t\tcase '':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment key={item.id}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tminHeight: '80px',\r\n\t\t\t\t\t\t\t\tborder: '1px solid blue'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={ObjOnclick(item, list)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div>{item['x-component'] || 'pureObject'}</div>\r\n\t\t\t\t\t\t\t<Nested\r\n\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\tlist={item.properties || []}\r\n\t\t\t\t\t\t\t\tsetList={nestedSetList(item)}\r\n\t\t\t\t\t\t\t></Nested>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)\r\n\t\t\tcase 'tab':\r\n\t\t\t\tlet active: string | undefined = 'tab-1'\r\n\r\n\t\t\t\tconsole.log(active)\r\n\r\n\t\t\t\tconst activeObj = {\r\n\t\t\t\t\tadd(activeKey: string | React.MouseEvent<HTMLElement, MouseEvent>) {\r\n\t\t\t\t\t\tconst id = GenNonDuplicateID()\r\n\r\n\t\t\t\t\t\tsetList(\r\n\t\t\t\t\t\t\tlist.map((i) => {\r\n\t\t\t\t\t\t\t\tif (i.id === item.id) {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\tproperties: [\r\n\t\t\t\t\t\t\t\t\t\t\t...item.properties,\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'schema' + id,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\t\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttab: '选项' + id\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tproperties: []\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn i\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{ dragging: null }\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tremove(activeKey: string | React.MouseEvent<HTMLElement, MouseEvent>) {\r\n\t\t\t\t\t\tsetList(\r\n\t\t\t\t\t\t\tlist.map((i) => {\r\n\t\t\t\t\t\t\t\tif (i.id === item.id) {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\tproperties: item.properties?.filter((j) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn j.id !== activeKey\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn i\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{ dragging: null }\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst onChange = (activeKey: string) => {\r\n\t\t\t\t\tactive = activeKey\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst onEdit = (\r\n\t\t\t\t\ttargetKey: string | React.MouseEvent<HTMLElement>,\r\n\t\t\t\t\taction: 'add' | 'remove'\r\n\t\t\t\t) => {\r\n\t\t\t\t\tactiveObj[action](targetKey)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment key={item.id}>\r\n\t\t\t\t\t\t<div onClick={ObjOnclick(item, list)}>\r\n\t\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\t\t{...item['x-component-props']}\r\n\t\t\t\t\t\t\t\ttype=\"editable-card\"\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t// activeKey={active}\r\n\t\t\t\t\t\t\t\tonEdit={onEdit}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.properties?.map((tabp) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<TabPane {...tabp['x-component-props']} key={tabp.id as string}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Nested\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlist={tabp.properties || []}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetList={(newState: IDraggableList | IDraggableList[]) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetList(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist.map((i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (item.id === i.id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperties: item.properties!.map((t) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (t.id === tabp.id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tabp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: tabp.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperties: cloneDeep(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewState\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) as IDraggableList[]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ dragging: null }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></Nested>\r\n\t\t\t\t\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment key={item.id}>\r\n\t\t\t\t\t\t<Form component={'div'} onClick={ObjOnclick(item, list)}>\r\n\t\t\t\t\t\t\t<Card {...item['x-component-props']}>\r\n\t\t\t\t\t\t\t\t<Nested\r\n\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\tlist={item.properties || []}\r\n\t\t\t\t\t\t\t\t\tsetList={nestedSetList(item)}\r\n\t\t\t\t\t\t\t\t></Nested>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 对于数组的渲染机制\r\n\t * @param item\r\n\t * @todo 暂未完善\r\n\t */\r\n\tconst ArrayRender = (item: IDraggableList) => {\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\tonClick={ObjOnclick(item, list)}\r\n\t\t\t\t{...item['x-component-props']}\r\n\t\t\t\ttitle={item.title}\r\n\t\t\t>\r\n\t\t\t\t<Nested\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tlist={(item.items as IDraggableList[]) || []}\r\n\t\t\t\t\tsetList={nestedSetList(item)}\r\n\t\t\t\t></Nested>\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ReactSortable\r\n\t\t\t{...merge(\r\n\t\t\t\t{\r\n\t\t\t\t\tgroup: {\r\n\t\t\t\t\t\tname: 'g1'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tprops\r\n\t\t\t)}\r\n\t\t\tlist={list}\r\n\t\t\tsetList={setList}\r\n\t\t\tstyle={{\r\n\t\t\t\tminHeight: '100px'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{list.map((item: IDraggableList, index: number) => {\r\n\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\tcase 'object':\r\n\t\t\t\t\t\treturn ObjectRender(item)\r\n\t\t\t\t\tcase 'array':\r\n\t\t\t\t\t\treturn ArrayRender(item)\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn DefaultRender(item)\r\n\t\t\t\t}\r\n\t\t\t})}\r\n\t\t</ReactSortable>\r\n\t)\r\n}\r\n","import React from \"react\";\r\nimport { IReactDraggableProps } from \"./draggable\";\r\nimport { Nested } from \"./nested\";\r\n\r\nexport const ReactDraggable = (props: IReactDraggableProps) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Nested {...props} list={props.list} setList={props.setList}></Nested>\r\n\t\t</div>\r\n\t);\r\n};\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react'\r\nimport { schema } from './schema'\r\nimport { ReactDraggable } from '../../../draggable/index'\r\nimport { IDraggableList } from '../../../draggable/draggable'\r\nimport { FormilyToDraggable } from '../../../../utils/transform'\r\nimport { GenNonDuplicateID } from '../../../../utils'\r\n\r\nexport const BuiltInComponent = () => {\r\n\tconst [list, setList] = useState<IDraggableList[]>(FormilyToDraggable(schema))\r\n\r\n\treturn (\r\n\t\t<ReactDraggable\r\n\t\t\tgroup={{\r\n\t\t\t\tpull: 'clone',\r\n\t\t\t\tname: 'g2',\r\n\t\t\t\tput: false\r\n\t\t\t}}\r\n\t\t\tlist={list}\r\n\t\t\tsetList={setList}\r\n\t\t\tsort={false}\r\n\t\t\tallowActive={false}\r\n\t\t\tclone={(item) => ({ ...item, id: item.id + '-' + GenNonDuplicateID() })}\r\n\t\t></ReactDraggable>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport { ISchema } from '@formily/antd'\r\nexport const schema: ISchema = {\r\n\ttype: 'object',\r\n\tproperties: {\r\n\t\tarrayTable: {\r\n\t\t\ttitle: '数组table',\r\n\t\t\tmaxItems: 3,\r\n\t\t\ttype: 'array',\r\n\t\t\t'x-component': 'arraytable',\r\n\t\t\t'x-component-props': {\r\n\t\t\t\t// operationsWidth: 300,\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t// aa: {\r\n\t\t\t\t\t\t// \t'x-component': 'input',\r\n\t\t\t\t\t\t// \tdescription: 'hello world',\r\n\t\t\t\t\t\t// \ttitle: '字段1'\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t// bb: {\r\n\t\t\t\t\t\t// \t'x-component': 'input',\r\n\t\t\t\t\t\t// \ttitle: '字段2'\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttype: 'object',\r\n\t\t\t\t// \tproperties: {\r\n\t\t\t\t// \t\tcc: {\r\n\t\t\t\t// \t\t\t'x-component': 'input',\r\n\t\t\t\t// \t\t\tdescription: 'hello world',\r\n\t\t\t\t// \t\t\ttitle: '字段3'\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// \t\tdd: {\r\n\t\t\t\t// \t\t\t'x-component': 'input',\r\n\t\t\t\t// \t\t\ttitle: '字段4'\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t]\r\n\t\t},\r\n\t\tarrayCards: {\r\n\t\t\ttitle: '数组Cards',\r\n\t\t\tmaxItems: 3,\r\n\t\t\ttype: 'array',\r\n\t\t\t'x-component': 'arraycards',\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t// aa: {\r\n\t\t\t\t\t\t// \t'x-component': 'input',\r\n\t\t\t\t\t\t// \tdescription: 'hello world',\r\n\t\t\t\t\t\t// \ttitle: '字段1'\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t// bb: {\r\n\t\t\t\t\t\t// \t'x-component': 'input',\r\n\t\t\t\t\t\t// \ttitle: '字段2'\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { schema } from \"./schema\";\r\nimport { ReactDraggable } from \"../../../draggable/index\";\r\nimport { IDraggableList } from \"../../../draggable/draggable\";\r\nimport { FormilyToDraggable } from \"../../../../utils/transform\";\r\nimport { GenNonDuplicateID } from \"../../../../utils\";\r\n\r\nexport const ArrayComponent = () => {\r\n\tconst [list, setList] = useState<IDraggableList[]>(\r\n\t\tFormilyToDraggable(schema)\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ReactDraggable\r\n\t\t\tgroup={{\r\n\t\t\t\tpull: \"clone\",\r\n\t\t\t\tname: \"g2\",\r\n\t\t\t\tput: false,\r\n\t\t\t}}\r\n\t\t\tlist={list}\r\n\t\t\tsetList={setList}\r\n\t\t\tsort={false}\r\n\t\t\tclone={(item) => ({ ...item, id: item.id + \"-\" + GenNonDuplicateID() })}\r\n\t\t></ReactDraggable>\r\n\t);\r\n};\r\n","/** @format */\r\n\r\nimport { ISchema } from '@formily/antd'\r\nexport const schema: ISchema = {\r\n\ttype: 'object',\r\n\tproperties: {\r\n\t\tformCards: {\r\n\t\t\ttitle: 'formcards',\r\n\t\t\ttype: 'object',\r\n\t\t\t'x-component': 'card',\r\n\t\t\t'x-component-props': {\r\n\t\t\t\ttitle: 'formCards'\r\n\t\t\t},\r\n\t\t\tproperties: {}\r\n\t\t},\r\n\t\tformblock: {\r\n\t\t\ttitle: 'formblock',\r\n\t\t\ttype: 'object',\r\n\t\t\t'x-component': 'block',\r\n\t\t\t'x-component-props': {\r\n\t\t\t\ttitle: 'formblock'\r\n\t\t\t},\r\n\t\t\tproperties: {}\r\n\t\t},\r\n\t\ttabs: {\r\n\t\t\ttype: 'object',\r\n\t\t\t'x-component': 'tab',\r\n\t\t\t'x-component-props': {\r\n\t\t\t\tdefaultActiveKey: 'tab-1'\r\n\t\t\t},\r\n\t\t\tproperties: {\r\n\t\t\t\t'tab-1': {\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\ttab: '选项1'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {}\r\n\t\t\t\t},\r\n\t\t\t\t'tab-2': {\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\ttab: '选项2'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tFormMegaLayout: {\r\n\t\t\t'x-component': 'mega-layout',\r\n\t\t\t'x-component-props': {\r\n\t\t\t\tlabelCol: 4\r\n\t\t\t},\r\n\t\t\ttype: 'object',\r\n\t\t\tproperties: {}\r\n\t\t},\r\n\t\tpureObject: {\r\n\t\t\ttype: 'object',\r\n\t\t\t'x-component': '',\r\n\t\t\tproperties: {}\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { schema } from \"./schema\";\r\nimport { ReactDraggable } from \"../../../draggable/index\";\r\nimport { IDraggableList } from \"../../../draggable/draggable\";\r\nimport { FormilyToDraggable } from \"../../../../utils/transform\";\r\nimport { GenNonDuplicateID } from \"../../../../utils\";\r\n\r\nexport const LayoutComponent = () => {\r\n\tconst [list, setList] = useState<IDraggableList[]>(\r\n\t\tFormilyToDraggable(schema)\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ReactDraggable\r\n\t\t\tgroup={{\r\n\t\t\t\tpull: \"clone\",\r\n\t\t\t\tname: \"g2\",\r\n\t\t\t\tput: false,\r\n\t\t\t}}\r\n\t\t\tlist={list}\r\n\t\t\tsetList={setList}\r\n\t\t\tsort={false}\r\n\t\t\tclone={(item) => ({ ...item, id: item.id + \"-\" + GenNonDuplicateID() })}\r\n\t\t></ReactDraggable>\r\n\t);\r\n};\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { BuiltInComponent } from './builtInComponent'\r\nimport { ArrayComponent } from './arrayComponent'\r\nimport { LayoutComponent } from './layoutComponent'\r\nimport { PageHeader } from 'antd'\r\n\r\nexport const BaseComponent = () => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '20%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\toverflow: 'auto'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<PageHeader className=\"site-page-header\" backIcon={false} title=\"基础组件\" />\r\n\t\t\t<BuiltInComponent></BuiltInComponent>\r\n\t\t\t<PageHeader className=\"site-page-header\" backIcon={false} title=\"数组组件\" />\r\n\t\t\t<ArrayComponent></ArrayComponent>\r\n\t\t\t<PageHeader className=\"site-page-header\" backIcon={false} title=\"布局组件\" />\r\n\t\t\t<LayoutComponent></LayoutComponent>\r\n\t\t</div>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react'\r\nimport { SchemaForm, ISchema, FormButtonGroup, Submit, Reset } from '@formily/antd'\r\nimport { Modal, Button } from 'antd'\r\nimport {\r\n\tInput,\r\n\tSelect,\r\n\tPassword,\r\n\tNumberPicker,\r\n\tSwitch,\r\n\tDatePicker,\r\n\tTimePicker,\r\n\tRange,\r\n\tUpload,\r\n\tCheckbox,\r\n\tRadio,\r\n\tRating,\r\n\tTransfer,\r\n\tFormCard,\r\n\tArrayTable,\r\n\tArrayCards\r\n} from '@formily/antd-components'\r\n\r\nconst BuiltInComponents = {\r\n\tInput,\r\n\tSelect,\r\n\tTextArea: Input.TextArea,\r\n\tPassword,\r\n\tNumberPicker,\r\n\tSwitch,\r\n\tDatePicker,\r\n\tRangePicker: DatePicker.RangePicker,\r\n\tWeekPicker: DatePicker.WeekPicker,\r\n\tMonthPicker: DatePicker.MonthPicker,\r\n\tYearPicker: DatePicker.YearPicker,\r\n\tTimePicker,\r\n\tRange,\r\n\tUpload,\r\n\tCheckbox,\r\n\tCheckboxGroup: Checkbox.Group,\r\n\tRadio,\r\n\tRadioGroup: Radio.Group,\r\n\tRating,\r\n\tTransfer\r\n}\r\n\r\nconst LayoutComponents = {\r\n\tFormCard\r\n}\r\n\r\nconst ArrayComponents = {\r\n\tArrayTable,\r\n\tArrayCards\r\n}\r\n\r\nexport const Preview = (props: ISchema) => {\r\n\tconst [state, setState] = useState({\r\n\t\tvisible: false\r\n\t})\r\n\r\n\tconst handleOk = (e: any) => {\r\n\t\tsetState({\r\n\t\t\tvisible: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleCancel = (e: any) => {\r\n\t\tsetState({\r\n\t\t\tvisible: false\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\tvisible: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t预览\r\n\t\t\t</Button>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Basic Modal\"\r\n\t\t\t\tvisible={state.visible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\twidth={'80%'}\r\n\t\t\t\tcentered={true}\r\n\t\t\t\tbodyStyle={{\r\n\t\t\t\t\tmaxHeight: '600px',\r\n\t\t\t\t\toverflow: 'auto'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<SchemaForm\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\t...BuiltInComponents,\r\n\t\t\t\t\t\t...LayoutComponents,\r\n\t\t\t\t\t\t...ArrayComponents\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tschema={props}\r\n\t\t\t\t\tonSubmit={(value) => {\r\n\t\t\t\t\t\tconsole.log(value)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FormButtonGroup>\r\n\t\t\t\t\t\t<Submit>提交</Submit>​ <Reset>重置</Reset>​\r\n\t\t\t\t\t</FormButtonGroup>\r\n\t\t\t\t</SchemaForm>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n","/** @format */\r\nimport React, { useState, useEffect, useContext } from 'react'\r\nimport { ISchema } from '@formily/antd'\r\nimport MonacoEditor from 'react-monaco-editor'\r\n\r\nimport { Modal, Button } from 'antd'\r\nimport { IDraggableList } from '../../../draggable/draggable'\r\nimport { FormilyToDraggable } from '../../../../utils/transform'\r\nimport { ActiveItem } from '../../context'\r\n\r\nexport const EditSchema = (props: {\r\n\tschema: ISchema\r\n\tsetSchema: React.Dispatch<React.SetStateAction<IDraggableList[]>>\r\n}) => {\r\n\tconst { schema, setSchema } = props\r\n\r\n\tconst [state, setState] = useState({\r\n\t\tvisible: false\r\n\t})\r\n\r\n\tconst [code, setCode] = useState(JSON.stringify(schema, undefined, 2))\r\n\r\n\tconst { changeActive } = useContext(ActiveItem)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCode(JSON.stringify(schema, undefined, 2))\r\n\t}, [schema])\r\n\r\n\tconst handleOk = (e: any) => {\r\n\t\tsetSchema(FormilyToDraggable(JSON.parse(code)))\r\n\r\n\t\tchangeActive({\r\n\t\t\tlist: {\r\n\t\t\t\tid: 'schema',\r\n\t\t\t\tproperties: [],\r\n\t\t\t\ttype: 'object'\r\n\t\t\t},\r\n\t\t\tsetList: () => {}\r\n\t\t})\r\n\r\n\t\tsetState({\r\n\t\t\tvisible: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleCancel = (e: any) => {\r\n\t\tsetState({\r\n\t\t\tvisible: false\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\tvisible: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t编辑schema\r\n\t\t\t</Button>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Basic Modal\"\r\n\t\t\t\tvisible={state.visible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\twidth={'80%'}\r\n\t\t\t\tcentered={true}\r\n\t\t\t\tbodyStyle={{\r\n\t\t\t\t\tmaxHeight: '600px',\r\n\t\t\t\t\toverflow: 'auto'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<MonacoEditor\r\n\t\t\t\t\tvalue={code}\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\theight=\"600\"\r\n\t\t\t\t\tlanguage=\"json\"\r\n\t\t\t\t\ttheme=\"vs-dark\"\r\n\t\t\t\t\tonChange={setCode}\r\n\t\t\t\t/>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react'\r\nimport { DeleteOutlined } from '@ant-design/icons'\r\nimport { ReactSortable } from 'react-sortablejs'\r\nimport { Avatar, Popover } from 'antd'\r\nimport { IDraggableList } from '../../../draggable/draggable'\r\nimport './index.scss'\r\n\r\nexport const Ashcan = () => {\r\n\tconst [list] = useState<IDraggableList[]>([{ id: 'delete' }])\r\n\r\n\treturn (\r\n\t\t<ReactSortable\r\n\t\t\tgroup={{ name: 'g1' }}\r\n\t\t\tlist={list}\r\n\t\t\tsetList={() => list}\r\n\t\t\tghostClass=\"deleteActive\"\r\n\t\t>\r\n\t\t\t{list.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Popover content=\"拖动到此删除\">\r\n\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#f56c6c',\r\n\t\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\t\tbottom: '20px',\r\n\t\t\t\t\t\t\t\tright: '30%'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Popover>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</ReactSortable>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react'\r\nimport { ReactDraggable } from '../../draggable'\r\nimport { IDraggableList } from '../../draggable/draggable'\r\nimport { GenNonDuplicateID } from '../../../utils'\r\nimport { Preview } from './preview'\r\nimport { EditSchema } from './editSchema'\r\nimport { DraggableToFormily } from '../../../utils/transform'\r\nimport { Layout } from 'antd'\r\nimport { Ashcan } from './ashcan'\r\n\r\nconst { Content, Header } = Layout\r\n\r\nclass ErrorBoundary extends React.Component<\r\n\tany,\r\n\t{\r\n\t\thasError: boolean\r\n\t}\r\n> {\r\n\tconstructor(props: Readonly<{}>) {\r\n\t\tsuper(props)\r\n\t\tthis.state = { hasError: false }\r\n\t}\r\n\r\n\tstatic getDerivedStateFromError() {\r\n\t\t// Update state so the next render will show the fallback UI.\r\n\t\treturn { hasError: true }\r\n\t}\r\n\r\n\tcomponentDidCatch(error: any, info: any) {\r\n\t\t// You can also log the error to an error reporting service\r\n\t\t// logErrorToMyService(error, info);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.hasError) {\r\n\t\t\t// You can render any custom fallback UI\r\n\t\t\treturn <h1>Something went wrong.</h1>\r\n\t\t}\r\n\r\n\t\treturn this.props.children\r\n\t}\r\n}\r\n\r\nexport const Container = () => {\r\n\tconst [list, setList] = useState<Array<IDraggableList>>([\r\n\t\t{\r\n\t\t\ttype: 'object',\r\n\t\t\tid: 'schema',\r\n\t\t\ttitle: 'test'\r\n\t\t}\r\n\t])\r\n\r\n\treturn (\r\n\t\t<Layout\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '60%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\toverflow: 'auto'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Header\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundColor: 'white',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'space-evenly'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<EditSchema schema={DraggableToFormily(list)} setSchema={setList}></EditSchema>\r\n\t\t\t\t<Preview {...DraggableToFormily(list)}></Preview>\r\n\t\t\t</Header>\r\n\t\t\t<Content\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\toverflow: 'auto'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t<ReactDraggable\r\n\t\t\t\t\t\tlist={list}\r\n\t\t\t\t\t\tsetList={setList}\r\n\t\t\t\t\t\tgroup={{\r\n\t\t\t\t\t\t\tname: 'g1',\r\n\t\t\t\t\t\t\tput: true\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tallowActive={true}\r\n\t\t\t\t\t\tclone={(item) => ({\r\n\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\tid: item.id + GenNonDuplicateID()\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t></ReactDraggable>\r\n\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t<Ashcan />\r\n\t\t\t</Content>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport { ISchema } from '@formily/antd'\r\nexport const schema: ISchema = {\r\n\ttype: 'object',\r\n\tproperties: {\r\n\t\tcard: {\r\n\t\t\ttype: 'object',\r\n\t\t\t'x-component': 'tab',\r\n\t\t\t'x-component-props': {\r\n\t\t\t\tdefaultActiveKey: 'base-config'\r\n\t\t\t},\r\n\t\t\tproperties: {\r\n\t\t\t\t'base-config': {\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\ttab: '基础配置'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\twrapperCol: 16,\r\n\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\tlabelAlign: 'left'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\tid: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'id',\r\n\t\t\t\t\t\t\t\t\tdescription: '字段的key值'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttype: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'type',\r\n\t\t\t\t\t\t\t\t\tdefault: 'string',\r\n\t\t\t\t\t\t\t\t\tdescription: '字段类型'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tDEFAULT_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'default',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段默认值'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'component-config': {\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\ttab: '组件配置'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\twrapperCol: 16,\r\n\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\tlabelAlign: 'left'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'title',\r\n\t\t\t\t\t\t\t\t\tdescription: '字段标题'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tdescription: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'description',\r\n\t\t\t\t\t\t\t\t\tdescription: '字段描述'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tREADONLY_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 16,\r\n\t\t\t\t\t\t\t\t\t\tfull: false,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'left'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\treadOnly: {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'Switch',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'readOnly',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '是否只读与 editable 一致'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// writeOnly: {\r\n\t\t\t\t\t\t\t\t\t\t// \ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\t\t// \t'x-component': 'Switch',\r\n\t\t\t\t\t\t\t\t\t\t// \ttitle: 'writeOnly'\r\n\t\t\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t\t\t// editable\t字段是否可编辑\tboolean\r\n\t\t\t\t\t\t\t\t\t\teditable: {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'editable',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段是否可编辑',\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'Switch'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// visible\t字段是否可见(数据+样式)\tboolean\r\n\t\t\t\t\t\t\t\t\t\tvisible: {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'visible',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段是否可见(数据+样式)',\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'Switch'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// display\t字段样式是否可见\tboolean\r\n\t\t\t\t\t\t\t\t\t\tdisplay: {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'display',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段样式是否可见',\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'Switch'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tENUM_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t// enum: {\r\n\t\t\t\t\t\t\t\t\t\t// \ttype: 'array',\r\n\t\t\t\t\t\t\t\t\t\t// \t'x-component': 'arraytable',\r\n\t\t\t\t\t\t\t\t\t\t// \ttitle: 'enum',\r\n\t\t\t\t\t\t\t\t\t\t// \titems: {\r\n\t\t\t\t\t\t\t\t\t\t// \t\ttype: 'object',\r\n\t\t\t\t\t\t\t\t\t\t// \t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\ttitle: 'label',\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\t'x-component': 'input',\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\tdefault: ''\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\tvalue: {\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\ttitle: 'value',\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\t'x-component': 'input',\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\tdefault: ''\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t\t\t// \tdescription: '某些组件的枚举值'\r\n\t\t\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t\t\tENUM_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tenum: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'enum',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: '某些组件的枚举值'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// maxItems\t最大条目数\tnumber\r\n\t\t\t\t\t\t\t\tmaxItems: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'maxItems',\r\n\t\t\t\t\t\t\t\t\tdescription: '最大条目数'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// minItems\t最小条目数\tnumber\r\n\t\t\t\t\t\t\t\tminItems: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'minItems',\r\n\t\t\t\t\t\t\t\t\tdescription: '最小条目数'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// maxProperties\t最大属性数量\tnumber\r\n\t\t\t\t\t\t\t\tmaxProperties: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'maxProperties',\r\n\t\t\t\t\t\t\t\t\tdescription: '最大属性数量'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// minProperties\t最小属性数量\tnumber\r\n\t\t\t\t\t\t\t\tminProperties: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'minProperties',\r\n\t\t\t\t\t\t\t\t\tdescription: '最小属性数量'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'rules-config': {\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\ttab: '校验配置'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\twrapperCol: 16,\r\n\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\tlabelAlign: 'left'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\tCONST_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\tconst: {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'const',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '校验字段值是否与 const 的值相等'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// validate\r\n\t\t\t\t\t\t\t\tmultipleOf: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'multipleOf',\r\n\t\t\t\t\t\t\t\t\tdescription: '校验字段值是否可被 multipleOf 的值整除'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// maximum\t校验最大值(大于)\tnumber\r\n\t\t\t\t\t\t\t\tmaximum: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'maximum',\r\n\t\t\t\t\t\t\t\t\tdescription: '校验最大值(大于)'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// exclusiveMaximum\t校验最大值（大于等于）\tnumber\r\n\t\t\t\t\t\t\t\texclusiveMaximum: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'exclusiveMaximum',\r\n\t\t\t\t\t\t\t\t\tdescription: '校验最大值（大于等于）'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// minimum\t校验最小值(小于)\tnumber\r\n\t\t\t\t\t\t\t\tminimum: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'minimum',\r\n\t\t\t\t\t\t\t\t\tdescription: '校验最小值(小于)'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// exclusiveMinimum\t最小值（小于等于）\tnumber\r\n\t\t\t\t\t\t\t\texclusiveMinimum: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'exclusiveMinimum',\r\n\t\t\t\t\t\t\t\t\tdescription: '最小值（小于等于）'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// maxLength\t校验最大长度\tnumber\r\n\t\t\t\t\t\t\t\tmaxLength: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'maxLength',\r\n\t\t\t\t\t\t\t\t\tdescription: '校验最大长度'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// minLength\t校验最小长度\tnumber\r\n\t\t\t\t\t\t\t\tminLength: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'minLength',\r\n\t\t\t\t\t\t\t\t\tdescription: '校验最小长度'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// pattern\t正则校验规则\tstring | RegExp\r\n\t\t\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'pattern',\r\n\t\t\t\t\t\t\t\t\tdescription: '正则校验规则'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// uniqueItems\t是否校验重复\tboolean\r\n\t\t\t\t\t\t\t\tuniqueItems: {\r\n\t\t\t\t\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\ttitle: 'uniqueItems',\r\n\t\t\t\t\t\t\t\t\tdescription: '是否校验重复',\r\n\t\t\t\t\t\t\t\t\t'x-component': 'RadioGroup',\r\n\t\t\t\t\t\t\t\t\tenum: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'true',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'false',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: false\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// required\t必填 boolean\r\n\t\t\t\t\t\t\t\trequired: {\r\n\t\t\t\t\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\t\t\t\t\ttitle: 'required',\r\n\t\t\t\t\t\t\t\t\tdescription: '是否必填',\r\n\t\t\t\t\t\t\t\t\t'x-component': 'RadioGroup',\r\n\t\t\t\t\t\t\t\t\tenum: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'true',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'false',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: false\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// format\t正则规则类型，详细类型可以往后看\tInternalFormats ！！！\r\n\t\t\t\t\t\t\t\tformat: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Select',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tmode: 'tags'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttitle: 'format',\r\n\t\t\t\t\t\t\t\t\tdescription: '正则规则类型',\r\n\t\t\t\t\t\t\t\t\tenum: [\r\n\t\t\t\t\t\t\t\t\t\t'url',\r\n\t\t\t\t\t\t\t\t\t\t'email',\r\n\t\t\t\t\t\t\t\t\t\t'ipv6',\r\n\t\t\t\t\t\t\t\t\t\t'ipv4',\r\n\t\t\t\t\t\t\t\t\t\t'idcard',\r\n\t\t\t\t\t\t\t\t\t\t'taodomain',\r\n\t\t\t\t\t\t\t\t\t\t'qq',\r\n\t\t\t\t\t\t\t\t\t\t'phone',\r\n\t\t\t\t\t\t\t\t\t\t'money',\r\n\t\t\t\t\t\t\t\t\t\t'zh',\r\n\t\t\t\t\t\t\t\t\t\t'date',\r\n\t\t\t\t\t\t\t\t\t\t'zip'\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// triggerType\t字段校验时机\t\"onChange\" | \"onBlur\"\r\n\t\t\t\t\t\t\t\ttriggerType: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'triggerType',\r\n\t\t\t\t\t\t\t\t\tdescription: '字段校验时机',\r\n\t\t\t\t\t\t\t\t\tenum: [\r\n\t\t\t\t\t\t\t\t\t\t{ label: 'onChange', value: 'onChange' },\r\n\t\t\t\t\t\t\t\t\t\t{ label: 'onBlur', value: 'onBlur' }\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tplaceholder: '字段校验时机'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'x-config': {\r\n\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t'x-component': 'tabpane',\r\n\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\ttab: 'x扩展配置'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\ttype: 'object',\r\n\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\twrapperCol: 16,\r\n\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\tlabelAlign: 'left'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t// x-component\t字段 UI 组件名称，大小写不敏感\tstring\r\n\t\t\t\t\t\t\t\t'x-component': {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'Input',\r\n\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\ttitle: 'x-component'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// x-index\t字段顺序\tnumber\r\n\t\t\t\t\t\t\t\t'x-index': {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'NumberPicker',\r\n\t\t\t\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\t\t\t\ttitle: 'x-index',\r\n\t\t\t\t\t\t\t\t\tdescription: '字段顺序'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// x-component-props\t字段 UI 组件属性\t{}\r\n\t\t\t\t\t\t\t\tX_COMPONENT_PROPS_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'x-component-props',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段 UI 组件属性'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// x-props\t字段扩展属性\t{ [name: string]: any } ！！！\r\n\t\t\t\t\t\t\t\tX_PROPS_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t'x-props': {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'x-props',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段扩展属性'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// x-rules\t字段校验规则，详细描述可以往后看\tValidatePatternRules\r\n\t\t\t\t\t\t\t\tX_RULES_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t'x-rules': {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'x-rules',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段校验规则'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t// x-linkages\t字段间联动协议，详细描述可以往后看\tArray<{ target: FormPathPattern, type: string, [key: string]: any }>\r\n\t\t\t\t\t\t\t\tX_LINKAGES_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t'x-linkages': {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'x-linkages',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段间联动协议，详细描述可以往后看'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tX_MEGA_PROPS_NO_NAME: {\r\n\t\t\t\t\t\t\t\t\t'x-component': 'mega-layout',\r\n\t\t\t\t\t\t\t\t\t'x-component-props': {\r\n\t\t\t\t\t\t\t\t\t\tlabelCol: 8,\r\n\t\t\t\t\t\t\t\t\t\twrapperCol: 24,\r\n\t\t\t\t\t\t\t\t\t\tfull: true,\r\n\t\t\t\t\t\t\t\t\t\tlabelAlign: 'top'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\t\t\t'x-mega-props': {\r\n\t\t\t\t\t\t\t\t\t\t\t'x-component': 'CustomMonacoEditor',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'x-mega-props',\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: '字段布局属性'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// label: {\r\n\t\t// \ttype: \"object\",\r\n\t\t// \t\"x-component\": \"mega-layout\",\r\n\t\t// \t\"x-component-props\": {\r\n\t\t// \t\tlabelAlign: \"top\",\r\n\t\t// \t},\r\n\t\t// \tproperties: {\r\n\r\n\t\t// \t\t// properties\t对象属性\t{[key : string]:Schema} ！！！\r\n\t\t// \t\t// properties: {\r\n\t\t// \t\t// \t\"x-component\": \"Input\",\r\n\t\t// \t\t// \ttype: \"string\",\r\n\t\t// \t\t// \ttitle: \"properties\",\r\n\t\t// \t\t// \tdescription: \"正则规则类型，详细类型可以往后看\",\r\n\t\t// \t\t// },\r\n\t\t// \t\t// items\t数组描述\tSchema | Schema[] ！！！\r\n\t\t// \t\t// items: {\r\n\t\t// \t\t// \t\"x-component\": \"Input\",\r\n\t\t// \t\t// \ttype: \"string\",\r\n\t\t// \t\t// \ttitle: \"items\",\r\n\t\t// \t\t// \tdescription: \"数组描述\",\r\n\t\t// \t\t// },\r\n\t\t// \t\t// additionalItems\t额外数组元素描述\tSchema ！！！\r\n\t\t// \t\tadditionalItems: {\r\n\t\t// \t\t\t\"x-component\": \"Input\",\r\n\t\t// \t\t\ttype: \"string\",\r\n\t\t// \t\t\ttitle: \"additionalItems\",\r\n\t\t// \t\t\tdescription: \"额外数组元素描述\",\r\n\t\t// \t\t},\r\n\t\t// \t\t// patternProperties\t动态匹配对象的某个属性的 Schema\t{[key : string]:Schema} ！！！\r\n\t\t// \t\tpatternProperties: {\r\n\t\t// \t\t\t\"x-component\": \"Input\",\r\n\t\t// \t\t\ttype: \"string\",\r\n\t\t// \t\t\ttitle: \"patternProperties\",\r\n\t\t// \t\t\tdescription: \"动态匹配对象的某个属性的 Schema\",\r\n\t\t// \t\t},\r\n\t\t// \t\t// additionalProperties\t匹配对象额外属性的 Schema\tSchema ！！！\r\n\t\t// \t\tadditionalProperties: {\r\n\t\t// \t\t\t\"x-component\": \"Input\",\r\n\t\t// \t\t\ttype: \"string\",\r\n\t\t// \t\t\ttitle: \"additionalProperties\",\r\n\t\t// \t\t\tdescription: \"匹配对象额外属性的 Schema\",\r\n\t\t// \t\t},\r\n\t\t// \t},\r\n\t\t// },\r\n\t}\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState, useEffect } from 'react'\r\nimport MonacoEditor from 'react-monaco-editor'\r\nimport { ISchemaFieldComponentProps } from '@formily/antd'\r\nimport { Modal, Button, Tag } from 'antd'\r\n\r\nconst CustomMonacoEditor = (props: ISchemaFieldComponentProps) => {\r\n\tlet { value = '' } = props\r\n\r\n\tconst [state, setState] = useState({\r\n\t\tvisible: false\r\n\t})\r\n\r\n\tconst handleOk = (e: any) => {\r\n\t\tonValueChange(code)\r\n\r\n\t\tsetState({\r\n\t\t\tvisible: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleCancel = (e: any) => {\r\n\t\tsetState({\r\n\t\t\tvisible: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst onValueChange = (value: any) => {\r\n\t\tconst [firstStr] = value\r\n\r\n\t\tlet result: any = value\r\n\r\n\t\tif (firstStr === '\"') {\r\n\t\t\tresult = value.slice(1, -1)\r\n\t\t} else if (firstStr === '{' || firstStr === '[') {\r\n\t\t\tresult = JSON.parse(value)\r\n\t\t} else {\r\n\t\t\tresult = Number(value)\r\n\t\t}\r\n\r\n\t\tprops.onChange(result)\r\n\t}\r\n\r\n\t/**\r\n\t * 大编辑器与小编辑器共用的代码\r\n\t */\r\n\tconst [code, setCode] = useState(value || '')\r\n\r\n\tconst [syncFlag, setSyncFlag] = useState(true)\r\n\r\n\tconst ReSetCode = (newValue: any) => {\r\n\t\tsetSyncFlag(false)\r\n\t\tsetCode(newValue)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCode(JSON.stringify(value, undefined, 2))\r\n\t}, [value])\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '100%'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<MonacoEditor\r\n\t\t\t\tvalue={code || ''}\r\n\t\t\t\twidth=\"100%\"\r\n\t\t\t\theight=\"120\"\r\n\t\t\t\tlanguage=\"json\"\r\n\t\t\t\ttheme=\"vs-dark\"\r\n\t\t\t\tonChange={ReSetCode}\r\n\t\t\t\t// onChange={props.onChange}\r\n\t\t\t/>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'flex-end'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Tag\r\n\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: syncFlag ? 'hidden' : 'visible'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{'数据未同步，请点击“同步”按钮'}\r\n\t\t\t\t</Tag>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"ghost\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t\tvisible: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t展开\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"ghost\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetSyncFlag(true)\r\n\t\t\t\t\t\tonValueChange(code)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t同步\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"属性编辑\"\r\n\t\t\t\tvisible={state.visible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\twidth={'80%'}\r\n\t\t\t\tcentered={true}\r\n\t\t\t\tbodyStyle={{\r\n\t\t\t\t\tmaxHeight: '600px',\r\n\t\t\t\t\toverflow: 'auto'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<MonacoEditor\r\n\t\t\t\t\tvalue={code || ''}\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\theight=\"600\"\r\n\t\t\t\t\tlanguage=\"json\"\r\n\t\t\t\t\ttheme=\"vs-dark\"\r\n\t\t\t\t\tonChange={ReSetCode}\r\n\t\t\t\t/>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCustomMonacoEditor.CostomMonacoEditor = true\r\n\r\nexport { CustomMonacoEditor }\r\n","/** @format */\r\n\r\nimport React, { useContext, useState } from 'react'\r\nimport { SchemaForm, LifeCycleTypes, FormSpy } from '@formily/antd'\r\nimport {\r\n\tInput,\r\n\tSelect,\r\n\tPassword,\r\n\tNumberPicker,\r\n\tSwitch,\r\n\tDatePicker,\r\n\tTimePicker,\r\n\tRange,\r\n\tUpload,\r\n\tCheckbox,\r\n\tRadio,\r\n\tRating,\r\n\tTransfer,\r\n\tFormCard,\r\n\tArrayTable,\r\n\tArrayCards,\r\n\tFormMegaLayout\r\n} from '@formily/antd-components'\r\nimport { schema } from './schema'\r\nimport { ActiveItem } from '../context'\r\nimport { CustomMonacoEditor } from '../../customComponent/custom-monaco-editor'\r\n\r\nconst BuiltInComponents = {\r\n\tInput,\r\n\tSelect,\r\n\tTextArea: Input.TextArea,\r\n\tPassword,\r\n\tNumberPicker,\r\n\tSwitch,\r\n\tDatePicker,\r\n\tRangePicker: DatePicker.RangePicker,\r\n\tWeekPicker: DatePicker.WeekPicker,\r\n\tMonthPicker: DatePicker.MonthPicker,\r\n\tYearPicker: DatePicker.YearPicker,\r\n\tTimePicker,\r\n\tRange,\r\n\tUpload,\r\n\tCheckbox,\r\n\tCheckboxGroup: Checkbox.Group,\r\n\tRadio,\r\n\tRadioGroup: Radio.Group,\r\n\tRating,\r\n\tTransfer\r\n}\r\n\r\nconst LayoutComponents = {\r\n\tFormCard,\r\n\tFormMegaLayout\r\n}\r\n\r\nconst ArrayComponents = {\r\n\tArrayTable,\r\n\tArrayCards\r\n}\r\n\r\nexport const PropertiesEdit = () => {\r\n\tconst { active } = useContext(ActiveItem)\r\n\r\n\tconst { list, setList } = active\r\n\r\n\tconst [id, setId] = useState<string>('')\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t\tpadding: '15px'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<SchemaForm\r\n\t\t\t\tonSubmit={(value) => {\r\n\t\t\t\t\tsetList(value)\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={list}\r\n\t\t\t\tcomponents={{\r\n\t\t\t\t\t...BuiltInComponents,\r\n\t\t\t\t\t...LayoutComponents,\r\n\t\t\t\t\t...ArrayComponents,\r\n\t\t\t\t\tCustomMonacoEditor\r\n\t\t\t\t}}\r\n\t\t\t\tschema={schema}\r\n\t\t\t>\r\n\t\t\t\t{/* <FormButtonGroup>\r\n\t\t\t\t\t<Submit>提交</Submit>\r\n\t\t\t\t</FormButtonGroup> */}\r\n\t\t\t\t<FormSpy\r\n\t\t\t\t\tselector={LifeCycleTypes.ON_FORM_VALUES_CHANGE}\r\n\t\t\t\t\treducer={(state, action, form) => {\r\n\t\t\t\t\t\tif (id !== action.payload.values.id) {\r\n\t\t\t\t\t\t\tsetId(action.payload.values.id)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (list.id === id) {\r\n\t\t\t\t\t\t\tsetList(action.payload.values)\r\n\t\t\t\t\t\t\treturn state\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ form: spyForm, state }) => {\r\n\t\t\t\t\t\treturn <div>{JSON.stringify(state)}</div>\r\n\t\t\t\t\t}}\r\n\t\t\t\t</FormSpy>\r\n\t\t\t</SchemaForm>\r\n\t\t</div>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react'\r\nimport { BaseComponent } from './baseComponent'\r\nimport { Container } from './container'\r\nimport { PropertiesEdit } from './propertiesEdit'\r\nimport { ActiveItem } from './context'\r\nimport { IDraggableList } from '../draggable/draggable.d'\r\n\r\nexport const Core = () => {\r\n\tconst [active, setActive] = useState<{\r\n\t\tlist: IDraggableList\r\n\t\tsetList(IDraggableList: IDraggableList): void\r\n\t}>({\r\n\t\tlist: {\r\n\t\t\tid: 'schema',\r\n\t\t\tproperties: [],\r\n\t\t\ttype: 'object'\r\n\t\t},\r\n\t\tsetList: (list: IDraggableList) => {}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\theight: '100%'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<ActiveItem.Provider\r\n\t\t\t\tvalue={{\r\n\t\t\t\t\tactive: active,\r\n\t\t\t\t\tchangeActive: setActive\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<BaseComponent></BaseComponent>\r\n\t\t\t\t<Container></Container>\r\n\t\t\t\t<PropertiesEdit></PropertiesEdit>\r\n\t\t\t</ActiveItem.Provider>\r\n\t\t</div>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { Core } from './components/core'\r\n\r\nconst App = () => {\r\n\treturn <Core></Core>\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}